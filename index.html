<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Display: flex nav</title>
    <meta name="viewport" content="width=device-width" />
    <link
      rel="stylesheet"
      href="css/font-awesome-4.6.3/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="css/nav.css" />
  </head>

  <body>
    <header>
      <a href="#" class="logo"><i class="fa fa-bullseye fa-3x"></i></a>
      <nav>
        <ul>
          <li><a href="#recipes">Recipes</a></li>
          <li><a href="#reviews">Reviews</a></li>
          <li><a href="#delivery">Delivery</a></li>
        </ul>
      </nav>
      <a href="#" class="sign-out-link">Sign Out</a>
    </header>

    <div class="content"></div>

    <script>
      const data = {
        recipes:
          "<h1>Recipes</h1> <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio maiores adipisci quibusdam repudiandae dolor vero placeat esse sit! Quibusdam saepe aperiam explicabo placeat optio, consequuntur nihil voluptatibus expedita quia vero perferendis, deserunt et incidunt eveniet temporibus doloremque possimus facilis.</p>",

        reviews:
          "<h1>Reviews</h1> <p>Asperiores laudantium, rerum ratione consequatur, culpa consectetur possimus atque ab tempore illum non dolor nesciunt. Neque, rerum. A vel non incidunt, quod doloremque dignissimos necessitatibus aliquid laboriosam architecto at cupiditate commodi expedita in, quae blanditiis.</p>",

        delivery:
          "<h1>Delivery</h1> <p>Possimus labore, officia dolore! Eaque ratione saepe, alias harum laboriosam deserunt laudantium blanditiis eum explicabo placeat reiciendis labore iste sint. Consectetur expedita dignissimos, non quos distinctio, eos rerum facilis eligendi.</p>",
      };

      var tabs = document.querySelectorAll("nav a");
      var contentPara = document.querySelector(".content");

      // when the hash changes
      function setActiveTabAccordingToHash(type) {
        makeAllTabsInactive();
        var tabToActivate = document.querySelector(`a[href="#${type}"]`);
        tabToActivate.classList.add("active");
      }

      function makeAllTabsInactive() {
        tabs.forEach((tab) => tab.classList.remove("active"));
      }

      // runs on page load and whenever the hash changes
      function setContentAccordingToHash() {
        var type = window.location.hash.substring(1);
        console.log("substring", type);
        contentPara.innerHTML = data[type];
        setActiveTabAccordingToHash(type);
      }

      // only runs once on page load
      function initializePage() {
        if (!window.location.hash) {
          window.location.hash = "recipes";
          document.querySelector('[href="#recipes"]').classList.add("active");
        }
        setContentAccordingToHash();
      }

      window.addEventListener("hashchange", setContentAccordingToHash);

      initializePage();
    </script>
  </body>
</html>
